<dx-form id="form" [formData]="product">
  <dxi-item itemType="group" cssClass="first-group" [colCount]="4">
    <dxi-item class="avatar-group">
      <img class="form-avatar" [attr.src]="product.imageData" (click)="inputImage.click()" />
      <span class="avatar-select">Change image</span>
      <input #inputImage type="file" accept="image/*" (change)="imageChanged($event)">
    </dxi-item>
    <dxi-item itemType="group" [colSpan]="3">
      <dxi-item dataField="code" [label]="{text: 'Product Code'}"></dxi-item>
      <dxi-item dataField="defaultName" [label]="{text: 'Default Name'}"></dxi-item>
      <dxi-item itemType="group" [colCount]="2">
        <dxi-item dataField="categoryId" [label]="{text: 'Category'}"
                  editorType="dxSelectBox"
                  [editorOptions]="{
                      items: allCategories,
                      placeholder:'-- Select category --',
                      displayExpr:'name',
                      valueExpr:'id'}">
        </dxi-item>
        <dxi-item dataField="isUsed" editorType="dxCheckBox"></dxi-item>
      </dxi-item>
    </dxi-item>
  </dxi-item>
  <dxi-item dataField="defaultDecription" [colSpan]="5" editorType="dxTextArea" [editorOptions]="{ height: 140 }"></dxi-item>
  <dxi-item [colSpan]="5">
    <dx-tab-panel class="caption-language"
                  [dataSource]="product.productLanguages"
                  [selectedIndex]="0"
                  [animationEnabled]="true"
                  [swipeEnabled]="true">
      <div *dxTemplate="let clang of 'title'"><span class="{{clang.langClassIcon}}"></span> {{clang.langName}}</div>

      <div *dxTemplate="let clang of 'item'">
        <div class="tabpanel-item">
          <div class="dx-fieldset">
            <div class="dx-field">
              <div class="dx-field-label" style="width:20%">Name</div>
              <div class="dx-field-value" style="width:80%">
                <dx-text-box [(value)]="clang.name"></dx-text-box>
              </div>
            </div>
            <div class="dx-field">
              <div class="dx-field-label" style="width:20%">Description</div>
              <div class="dx-field-value" style="width:80%">
                <dx-text-area [(value)]="clang.description" style="min-height:100px;"></dx-text-area>
              </div>
            </div>
          </div>
        </div>
      </div>
    </dx-tab-panel>
  </dxi-item>
</dx-form>

<div class="button-actions">
  <div class="button">
    <dx-button text="Cancel" (onClick)="cancel()"></dx-button>
    <dx-button text="Save" type="default" (onClick)="save()"></dx-button>
  </div>
</div>
